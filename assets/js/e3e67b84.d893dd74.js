"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9672],{3905:function(e,t,r){r.d(t,{Zo:function(){return s},kt:function(){return f}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var u=n.createContext({}),c=function(e){var t=n.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},s=function(e){var t=c(e.components);return n.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=c(r),f=a,m=d["".concat(u,".").concat(f)]||d[f]||p[f]||o;return r?n.createElement(m,l(l({ref:t},s),{},{components:r})):n.createElement(m,l({ref:t},s))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,l=new Array(o);l[0]=d;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var c=2;c<o;c++)l[c]=r[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},8215:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(7294);function a(e){var t=e.children,r=e.hidden,a=e.className;return n.createElement("div",{role:"tabpanel",hidden:r,className:a},t)}},9877:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(7462),a=r(7294),o=r(2389),l=r(7556),i=r(6010),u="tabItem_LplD";function c(e){var t,r,o,c=e.lazy,s=e.block,p=e.defaultValue,d=e.values,f=e.groupId,m=e.className,v=a.Children.map(e.children,(function(e){if((0,a.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=d?d:v.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),y=(0,l.lx)(h,(function(e,t){return e.value===t.value}));if(y.length>0)throw new Error('Docusaurus error: Duplicate values "'+y.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===p?p:null!=(t=null!=p?p:null==(r=v.find((function(e){return e.props.default})))?void 0:r.props.value)?t:null==(o=v[0])?void 0:o.props.value;if(null!==g&&!h.some((function(e){return e.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+h.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var b=(0,l.UB)(),k=b.tabGroupChoices,T=b.setTabGroupChoices,w=(0,a.useState)(g),E=w[0],O=w[1],D=[],N=(0,l.o5)().blockElementScrollPositionUntilNextRender;if(null!=f){var P=k[f];null!=P&&P!==E&&h.some((function(e){return e.value===P}))&&O(P)}var j=function(e){var t=e.currentTarget,r=D.indexOf(t),n=h[r].value;n!==E&&(N(t),O(n),null!=f&&T(f,n))},x=function(e){var t,r=null;switch(e.key){case"ArrowRight":var n=D.indexOf(e.currentTarget)+1;r=D[n]||D[0];break;case"ArrowLeft":var a=D.indexOf(e.currentTarget)-1;r=D[a]||D[D.length-1]}null==(t=r)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":s},m)},h.map((function(e){var t=e.value,r=e.label,o=e.attributes;return a.createElement("li",(0,n.Z)({role:"tab",tabIndex:E===t?0:-1,"aria-selected":E===t,key:t,ref:function(e){return D.push(e)},onKeyDown:x,onFocus:j,onClick:j},o,{className:(0,i.Z)("tabs__item",u,null==o?void 0:o.className,{"tabs__item--active":E===t})}),null!=r?r:t)}))),c?(0,a.cloneElement)(v.filter((function(e){return e.props.value===E}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},v.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==E})}))))}function s(e){var t=(0,o.Z)();return a.createElement(c,(0,n.Z)({key:String(t)},e))}},8299:function(e,t,r){r.r(t),r.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return v},frontMatter:function(){return c},metadata:function(){return p},toc:function(){return f}});var n=r(7462),a=r(3366),o=(r(7294),r(3905)),l=r(9877),i=r(8215),u=["components"],c={title:"Dispatch"},s=void 0,p={unversionedId:"yacht/dispatch",id:"yacht/dispatch",title:"Dispatch",description:"Police alert",source:"@site/docs/yacht/dispatch.md",sourceDirName:"yacht",slug:"/yacht/dispatch",permalink:"/docs/yacht/dispatch",editUrl:"https://github.com/FelisDevelopment/FelisDevelopment.github.io/tree/main/docs/yacht/dispatch.md",tags:[],version:"current",frontMatter:{title:"Dispatch"}},d={},f=[{value:"Police alert",id:"police-alert",level:3},{value:"Edit alert",id:"edit-alert",level:3}],m={toc:f};function v(e){var t=e.components,r=(0,a.Z)(e,u);return(0,o.kt)("wrapper",(0,n.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h3",{id:"police-alert"},"Police alert"),(0,o.kt)("p",null,"By default, whenever yacht heist starts script will send default notification to every police officer. If you're using somekind of dispatch script, you can override method and add trigger to send alert to your dispatch."),(0,o.kt)("h3",{id:"edit-alert"},"Edit alert"),(0,o.kt)(l.Z,{mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"qbcore",label:"QBCore",default:!0,mdxType:"TabItem"},(0,o.kt)("p",null,"To override alert, please go to ",(0,o.kt)("inlineCode",{parentName:"p"},"modules/bridge/server/qb.lua"),", to a line 54 and please override ",(0,o.kt)("inlineCode",{parentName:"p"},"bridge.triggerDispatch")," method.\nHere's how current trigger looks:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},"function bridge.triggerDispatch(coords)\n    local players = core.Functions.GetPlayers()\n    for _, player in pairs(players) do\n        if player.PlayerData.job.name == 'police' and player.PlayerData.job.onduty then\n            TriggerClientEvent('fd_yacht:notification', player.PlayerData.source, Config.messages['heist_in_progress'], 'error')\n        end\n    end\nend\n")),(0,o.kt)("p",null,"If your dispatch uses somekind of event, you can edit to:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},"function bridge.triggerDispatch(coords)\n    TriggerEvent('dispatch:event', ...)\nend\n"))),(0,o.kt)(i.Z,{value:"esx",label:"ESX",mdxType:"TabItem"},(0,o.kt)("p",null,"To override alert, please go to ",(0,o.kt)("inlineCode",{parentName:"p"},"modules/bridge/server/esx.lua"),", to a line 69 and please override ",(0,o.kt)("inlineCode",{parentName:"p"},"bridge.triggerDispatch")," method.\nHere's how current trigger looks:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},"function bridge.triggerDispatch(coords)\n    local players = core.GetPlayers()\n    for _, player in pairs(players) do\n        if player.job.name == 'police' then\n            TriggerClientEvent('fd_yacht:notification', player.source, Config.messages['heist_in_progress'], 'error')\n        end\n    end\nend\n")),(0,o.kt)("p",null,"If your dispatch uses somekind of event, you can edit to:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},"function bridge.triggerDispatch(coords)\n    TriggerEvent('dispatch:event', ...)\nend\n")))))}v.isMDXComponent=!0}}]);